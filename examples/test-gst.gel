(require GLib)

(require Gst)

((. Gst init))

(define player ( (. Gst ElementFactory make) "playbin2" "player"))

(set player "uri" "file:///usr/share/sounds/ubuntu/stereo/message.ogg")

( (. player set-state) (. Gst State playing) )

(define bus ((. player get-bus)))

((. bus add-signal-watch))

(define loop ((. GLib MainLoop new) NULL FALSE))

(connect bus "message::eos" (. loop quit))

((. loop run))

